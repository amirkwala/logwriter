pipeline {
    agent any
    stages {
        stage('Example') {
            steps {
                echo 'Hello World'
               script{ git branch: 'master', url: 'https://github.com/amirkwala/logwriter'
                def msbuild =  "c:/Program Files (x86)/MSBuild/14.0/bin/MsBuild.exe"
                def exitStatus = bat(returnStatus: true, script: "${msbuild} logwriter.sln /p:Configuration=Debug")
                if (exitStatus != 0){
                        currentBuild.result = 'FAILURE'
                  }
            }}
        }
    }
    post { 
        always { 
            echo 'I will always say Hello again!'
        }
    }
}
